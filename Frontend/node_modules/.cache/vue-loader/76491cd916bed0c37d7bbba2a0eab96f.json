{"remainingRequest":"/home/benjaminmtapia/Distribuidos/sistemasDistribuidos/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/benjaminmtapia/Distribuidos/sistemasDistribuidos/Frontend/src/views/Permit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/benjaminmtapia/Distribuidos/sistemasDistribuidos/Frontend/src/views/Permit.vue","mtime":1605756877901},{"path":"/home/benjaminmtapia/Distribuidos/sistemasDistribuidos/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benjaminmtapia/Distribuidos/sistemasDistribuidos/Frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/benjaminmtapia/Distribuidos/sistemasDistribuidos/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/benjaminmtapia/Distribuidos/sistemasDistribuidos/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGE6ICgpID0+ICh7DQogICAgbW9kZWw6IHsNCiAgICAgIHJ1bjogIiIsDQogICAgICBuYW1lOiAiIiwNCiAgICAgIGFkZHJlc3M6ICIiLA0KICAgICAgcmVhc29uOiAiIiwNCiAgICAgIGVtYWlsOiAiIiwNCiAgICB9LA0KICAgIHZhbGlkOiB0cnVlLA0KICAgIGNoZWNrYm94OiBmYWxzZSwNCiAgICBzdWNjZXNzTWVzc2FnZTogZmFsc2UsDQogICAgZXJyb3JNZXNzYWdlOiBmYWxzZSwNCiAgICBtZXNzYWdlOiAiIiwNCiAgfSksDQogIG1ldGhvZHM6IHsNCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMubW9kZWwubmFtZSA9ICIiOw0KICAgICAgdGhpcy5tb2RlbC5hZGRyZXNzID0gIiI7DQogICAgICB0aGlzLm1vZGVsLnJ1biA9ICIiOw0KICAgICAgdGhpcy5tb2RlbC5lbWFpbCA9ICIiOw0KICAgICAgdGhpcy5tb2RlbC5yZWFzb24gPSAiIjsNCiAgICB9LA0KICAgIHJlcXVlc3RQZXJtaXQoKSB7DQogICAgICB0aGlzLm1lc3NhZ2UgPSAiIjsNCiAgICAgIHRoaXMuc3VjY2Vzc01lc3NhZ2UgPSBmYWxzZTsNCiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZmFsc2U7DQogICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDo5MDkwL2Zvcm1zL2FkZCIsIHsNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIG1vZGU6ICdjb3JzJywNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgfSwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5tb2RlbCksDQogICAgICB9KQ0KICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgdGhpcy5tZXNzYWdlID0gIsOJeGl0byBhbCBwZWRpciBmb3JtdWxhcmlvLiI7DQogICAgICAgICAgdGhpcy5zdWNjZXNzTWVzc2FnZSA9IHRydWU7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgdGhpcy5tZXNzYWdlID0gIkVycm9yIGFsIGVudmlhciBzb2xpY2l0dWQuIjsNCiAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IHRydWU7DQogICAgICAgIH0pOw0KICAgICAgDQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Permit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Permit.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-app-bar\r\n      absolute\r\n      color=\"#fcb69f\"\r\n      dark\r\n      src=\"https://picsum.photos/1920/1080?random\"\r\n    >\r\n      <template v-slot:img=\"{ props }\">\r\n        <v-img\r\n          v-bind=\"props\"\r\n          gradient=\"to top right, rgba(19,84,122,.5), rgba(128,208,199,.8)\"\r\n        ></v-img>\r\n      </template>\r\n\r\n      <v-toolbar-title>Comisaría Virtual</v-toolbar-title>\r\n\r\n      <v-spacer></v-spacer>\r\n    </v-app-bar>\r\n    <v-sheet\r\n      id=\"scrolling-techniques-2\"\r\n      class=\"overflow-y-auto\"\r\n      max-height=\"1000\"\r\n    >\r\n      <v-container style=\"margin-top: 200px; align: center;\">\r\n        <v-form class=\"form\" ref=\"form\" v-model=\"valid\" lazy-validation>\r\n          <h1 class=\"text\">\r\n            Solicitud de permiso temporal\r\n          </h1>\r\n          <v-text-field\r\n            v-model=\"model.name\"\r\n            :counter=\"30\"\r\n            label=\"Nombre completo\"\r\n            required\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            v-model=\"model.run\"\r\n            :counter=\"10\"\r\n            label=\"Rut\"\r\n            hint=\"sin puntos y con guión\"\r\n            required\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            v-model=\"model.email\"\r\n            label=\"Correo electrónico\"\r\n            required\r\n          ></v-text-field>\r\n\r\n          <v-text-field\r\n            v-model=\"model.address\"\r\n            label=\"Dirección\"\r\n            required\r\n          ></v-text-field>\r\n\r\n          <v-textarea\r\n            counter\r\n            v-model=\"model.reason\"\r\n            name=\"Reason\"\r\n            label=\"Motivo\"\r\n            hint=\"200 caracteres como máximo\"\r\n            required\r\n          ></v-textarea>\r\n\r\n          <v-checkbox\r\n            v-model=\"checkbox\"\r\n            label=\"Declaro que esta información es real\"\r\n            required\r\n          ></v-checkbox>\r\n\r\n          <v-btn\r\n            :disabled=\"!valid\"\r\n            color=\"success\"\r\n            class=\"mr-4\"\r\n            @click=\"requestPermit\"\r\n          >\r\n            Solicitar permiso\r\n          </v-btn>\r\n\r\n          <v-btn color=\"error\" class=\"mr-4\" @click=\"reset\">\r\n            Borrar formulario\r\n          </v-btn>\r\n\r\n          <v-btn to=\"/\" class=\"mr-4\" color=\"primary\">\r\n            volver\r\n          </v-btn>\r\n          <p class=\"successText\" v-if=\"successMessage\">\r\n            {{ message }}\r\n          </p>\r\n          <p class=\"errorText\" v-if=\"errorMessage\">\r\n            {{ message }}\r\n          </p>\r\n        </v-form>\r\n      </v-container>\r\n    </v-sheet>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    model: {\r\n      run: \"\",\r\n      name: \"\",\r\n      address: \"\",\r\n      reason: \"\",\r\n      email: \"\",\r\n    },\r\n    valid: true,\r\n    checkbox: false,\r\n    successMessage: false,\r\n    errorMessage: false,\r\n    message: \"\",\r\n  }),\r\n  methods: {\r\n    reset() {\r\n      this.model.name = \"\";\r\n      this.model.address = \"\";\r\n      this.model.run = \"\";\r\n      this.model.email = \"\";\r\n      this.model.reason = \"\";\r\n    },\r\n    requestPermit() {\r\n      this.message = \"\";\r\n      this.successMessage = false;\r\n      this.errorMessage = false;\r\n      fetch(\"http://localhost:9090/forms/add\", {\r\n        method: \"POST\",\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(this.model),\r\n      })\r\n        .then(() => {\r\n          this.message = \"Éxito al pedir formulario.\";\r\n          this.successMessage = true;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.message = \"Error al enviar solicitud.\";\r\n          this.errorMessage = true;\r\n        });\r\n      \r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.form {\r\n  margin-right: 30%;\r\n  margin-left: 30%;\r\n}\r\n.text {\r\n  text-align: center;\r\n  font-size: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n.btn {\r\n  margin-top: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n.errorText {\r\n  color: red;\r\n}\r\n.successText {\r\n  color: green;\r\n}\r\n</style>\r\n"]}]}